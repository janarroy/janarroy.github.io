<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Work · Jan Arroyo</title>
  <link href="styles.css" rel="stylesheet" />
  <style>
    html, body { background:#f6f7f9; }

    :root{
      --ink:#0f172a;
      --muted:#6b7280;
      --muted2:#64748b;
      --bd:#e5e7eb;
      --card:#ffffff;
      --shadow: 0 22px 60px rgba(17,19,24,.14);
      --bezier:cubic-bezier(.22,.61,.36,1);

      /* fresh accents for projects */
      --accent:#2563eb;          /* blue */
      --accent-2:#f59e0b;        /* amber */
      --panel-h: clamp(460px, 64vh, 780px);
    }

    .page{padding:20px 16px 32px;}
    .narrow{width:min(680px,92vw);margin-inline:auto;}
    .wide{width:min(1200px,96vw);margin-inline:auto;}
    .section-title{font-size:22px;margin:26px 0 14px;color:#1f2937;font-weight:800;letter-spacing:.15px}

    /* Snoopy hero */
    .hero{display:grid;place-items:center;margin:6px 0 0}
    .snoopy{width:min(200px,42vw);height:auto;display:block;border-radius:18px;filter:drop-shadow(0 12px 28px rgba(17,19,24,.16))}
    .intro{margin-top:10px;text-align:center}
    .intro h1{margin:8px 0 6px;font-size:24px}
    .intro p{margin:0 auto;color:var(--muted);max-width:54ch;line-height:1.5}

    /* ===== Work & Involvements ===== */
    .list{margin:6px 0 0; padding:0; list-style:none;}
    .row{
      display:flex; align-items:center; justify-content:space-between; gap:16px;
      padding:12px 0; border-bottom:1px dashed rgba(17,19,24,.16);
      text-decoration:none; color:inherit;
    }
    .row:focus-visible{outline:2px solid rgba(59,130,246,.5); outline-offset:4px; border-bottom-color:transparent;}
    .left{display:flex; align-items:center; gap:12px; min-width:0;}
    .logo{width:24px;height:24px;display:block;object-fit:contain;border-radius:6px;image-rendering:-webkit-optimize-contrast}
    .meta{display:flex; align-items:center; gap:10px; min-width:0;}
    .co{font-weight:700; white-space:nowrap;}
    .role{font-size:13px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis;}
    .right{margin-left:auto; font-size:13px; color:var(--muted2); white-space:nowrap;}
    @media (max-width:560px){ .role{display:none;} }

    /* ===== Projects: refreshed layout ===== */
    .projects{margin-top:40px;}
    .kicker{margin-top:-2px;color:var(--muted);font-size:13px}

    .panels{display:flex;flex-direction:column;gap:56px;}

    .panel{
      position:relative; border-radius:26px; overflow:hidden;
      background:linear-gradient(180deg,#fff 0%,#fafafa 100%);
      border:1px solid var(--bd); box-shadow:var(--shadow);
      transform:translateY(28px) scale(.98); opacity:0;
      filter:saturate(.92) contrast(.98);
      transition:transform .7s var(--bezier), opacity .7s var(--bezier), filter .7s var(--bezier);
    }
    .panel.revealed{
      transform:none; opacity:1; filter:saturate(1) contrast(1);
    }

    /* Top header strip with project name */
    .panel-header{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 18px; color:#fff; font-weight:800; letter-spacing:.2px;
      background:
        radial-gradient(1200px 380px at 10% -40%, rgba(255,255,255,.14) 0%, transparent 60%),
        linear-gradient(120deg, var(--accent) 0%, #3b82f6 60%, #60a5fa 100%);
      border-bottom:1px solid rgba(255,255,255,.28);
    }
    .panel-header .sub{
      font-weight:600; font-size:12px; opacity:.92;
      padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.16);
    }

    .panel-grid{
      display:grid; gap:0; align-items:stretch;
      grid-template-columns: 1.25fr 0.95fr;
    }
    @media (max-width:1020px){ .panel-grid{grid-template-columns:1fr;} }

    /* media */
    .media{
      position:relative; overflow:hidden; background:#fff; min-height:var(--panel-h);
      border-right:1px solid var(--bd);
      will-change:transform;
    }
    .viewport{width:100%;height:100%;display:grid;place-items:center}
    .gallery-img,.pdf-canvas,.viewport>video{width:100%;height:100%;object-fit:cover;display:block;opacity:0;transition:opacity .28s ease, transform .8s var(--bezier)}
    .media.media-ready .gallery-img,
    .media.media-ready .pdf-canvas,
    .media.media-ready .viewport>video{opacity:1}
    .media:hover .gallery-img,
    .media:hover .viewport>video{transform:scale(1.03)}

    .pill{
      position:absolute; top:12px; right:12px; z-index:3;
      font-size:12px; color:#1f2937; background:rgba(255,255,255,.96); border:1px solid var(--bd);
      border-radius:999px; padding:4px 10px; box-shadow:0 6px 16px rgba(17,19,24,.12);
    }
    .ctrl{
      position:absolute; top:50%; transform:translateY(-50%); z-index:3;
      width:46px; height:46px; border-radius:999px; border:1px solid var(--bd);
      background:rgba(255,255,255,.96); backdrop-filter:saturate(120%) blur(3px);
      display:grid; place-items:center; user-select:none; box-shadow:0 12px 24px rgba(17,19,24,.18);
    }
    .ctrl.prev{left:14px} .ctrl.next{right:14px}
    .ctrl svg{width:20px;height:20px}

    /* text */
    .text{
      padding:28px 28px; display:flex; flex-direction:column; justify-content:center;
      min-height:var(--panel-h);
    }
    .text h3{display:none;} /* title is in the header now */
    .text p{
      margin:0; color:#1f2937; font-size:16px; line-height:1.7;
      max-width:none; /* let it fill */
    }

    footer .wide{padding:28px 0; font-size:14px; color:var(--muted2);}

    /* ===== Lightbox (for decks & galleries) ===== */
    .lightbox{position:fixed;inset:0;display:none;place-items:center;z-index:100;background:rgba(17,24,39,.35);backdrop-filter:blur(4px) saturate(1.05)}
    .lightbox.open{display:grid;animation:fadeIn .25s ease forwards}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    .lb-card{width:min(1080px,96vw);max-height:90vh;display:grid;grid-template-columns:1.2fr .8fr;gap:14px;
      background:linear-gradient(180deg,#fff,#fafafa);border:1px solid var(--bd);border-radius:18px;
      box-shadow:0 30px 80px rgba(17,24,39,.28);overflow:hidden;position:relative;
      transform:translateY(8px) scale(.98);opacity:0;animation:cardIn .32s var(--bezier) forwards .1s}
    @keyframes cardIn{to{transform:translateY(0) scale(1);opacity:1}}
    @media (max-width:920px){.lb-card{grid-template-columns:1fr;max-height:92vh}}
    .lb-left{padding:14px;display:grid;grid-template-rows:auto auto}
    .lb-stage{background:#fff;border-radius:12px;border:1px solid var(--bd);display:grid;place-items:center;
      position:relative;overflow:hidden;height:min(78vh,760px)}
    .lb-stage canvas,.lb-stage img{max-width:100%;max-height:100%;object-fit:contain;opacity:0;transition:opacity .2s ease}
    .lb-stage canvas.show,.lb-stage img.show{opacity:1}
    .navbtn{position:absolute;top:50%;transform:translateY(-50%);background:rgba(17,24,39,.75);color:#fff;border:none;border-radius:999px;width:34px;height:34px;display:grid;place-items:center;cursor:pointer}
    .navbtn.left{left:10px}.navbtn.right{right:10px}
    .thumbs{display:flex;gap:8px;overflow:auto;margin-top:10px;padding-bottom:6px}
    .thumbs img{width:62px;height:62px;border-radius:10px;object-fit:cover;border:2px solid transparent;cursor:pointer}
    .thumbs img.active{border-color:#3b82f6}
    .lb-right{padding:16px 18px 18px 6px}
    .lb-title{font-weight:800;font-size:20px;margin:2px 0 2px}
    .lb-sub{color:var(--muted);font-size:13px;margin-bottom:10px}
    .lb-notes{line-height:1.6;font-size:15px;overflow:auto;max-height:calc(90vh - 190px)}
    .lb-close{position:absolute;top:10px;right:10px;border:none;background:#111827;color:#fff;border-radius:999px;width:36px;height:36px;font-size:18px;cursor:pointer;box-shadow:0 8px 18px rgba(17,19,24,.2)}
  </style>
</head>
<body>
  <nav class="nav">
    <div class="container nav-inner">
      <a class="brand-logo" href="./" aria-label="Home">
        <img src="Snoopy_Welcome.png" alt="Snoopy waving hi" />
      </a>
      <div class="nav-links">
        <a href="work.html">Projects</a>
        <a href="races.html">Races</a>
        <a href="bake.html">Bake</a>
        <a href="travel.html">Travel</a>
        <a href="#contact">Contact</a>
      </div>
    </div>
  </nav>

  <main class="page">
    <!-- Snoopy welcome -->
    <section class="hero">
      <img class="snoopy" src="Snoopy_Welcome.png" alt="Welcome — Snoopy" />
      <div class="intro">
        <h1>Hey, what's up!</h1>
        <p>I'm Jan Arroyo — studying CS &amp; Business at USC. I like building products, doing design &amp; research, and creating impact with community partners.</p>
      </div>
    </section>

    <!-- ===================== WORK ===================== -->
    <section class="narrow">
      <h1 class="section-title">Work</h1>
      <ul class="list" aria-label="Work experience">
        <li>
          <a class="row" href="#" aria-label="USC Marshall Peer Career Advisor – Tech">
            <span class="left">
              <img class="logo" src="images/Marshall.JPG" alt="">
              <span class="meta"><span class="co">USC Marshall</span><span class="role">Peer Career Advisor – Tech</span></span>
            </span>
            <span class="right">Aug 2025</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.amazon.jobs/content/en/teams/devices-and-services/lab126" target="_blank" rel="noopener" aria-label="Amazon">
            <span class="left">
              <img class="logo" src="images/Amazon.JPG" alt="">
              <span class="meta"><span class="co">Amazon</span><span class="role">Technical Program Manager Intern</span></span>
            </span>
            <span class="right">May–Aug 2025</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.accenture.com/us-en/services/ecosystem-partners/microsoft" target="_blank" rel="noopener" aria-label="Accenture">
            <span class="left">
              <img class="logo" src="images/Accenture.JPG" alt="">
              <span class="meta"><span class="co">Accenture</span><span class="role">Strategy Tech Apps &amp; Dev Analyst Intern</span></span>
            </span>
            <span class="right">Jun–Aug 2024</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.apple.com/careers/us/work-at-apple/students.html" target="_blank" rel="noopener" aria-label="Apple">
            <span class="left">
              <img class="logo" src="images/Apple.JPG" alt="">
              <span class="meta"><span class="co">Apple</span><span class="role">Product Management Intern</span></span>
            </span>
            <span class="right">Aug 2023–Jan 2024</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.microsoft.com/en-us/modernfinance/digitaltransformation.aspx" target="_blank" rel="noopener" aria-label="Microsoft">
            <span class="left">
              <img class="logo" src="images/Microsoft.JPG" alt="">
              <span class="meta"><span class="co">Microsoft</span><span class="role">Finance Data Analyst Intern</span></span>
            </span>
            <span class="right">May–Aug 2023</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://worldfitforkids.org/" target="_blank" rel="noopener" aria-label="A World Fit For Kids">
            <span class="left">
              <img class="logo" src="images/A-World-Fit-for-Kids.JPG" alt="">
              <span class="meta"><span class="co">A World Fit For Kids</span><span class="role">Strategy Consultant</span></span>
            </span>
            <span class="right">2022–2023</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.therams.com/news/rams-la-promise-fund-create-summer-internship-program-for-inglewood-unified-stud" target="_blank" rel="noopener" aria-label="Los Angeles Rams">
            <span class="left">
              <img class="logo" src="images/LARAMS.JPG" alt="">
              <span class="meta"><span class="co">Los Angeles Rams</span><span class="role">Data &amp; Systems Analyst – Intern</span></span>
            </span>
            <span class="right">Jun–Aug 2021</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.therams.com/news/rams-la-promise-fund-create-summer-internship-program-for-inglewood-unified-stud" target="_blank" rel="noopener" aria-label="LA Conservation Corps">
            <span class="left">
              <img class="logo" src="images/LACC.JPG" alt="">
              <span class="meta"><span class="co">LA Conservation Corps</span><span class="role">Project Lead</span></span>
            </span>
            <span class="right">Dec 2019–May 2020</span>
          </a>
        </li>
      </ul>

      <h2 class="section-title">Involvements</h2>
      <ul class="list" aria-label="Student & community involvement">
        <li>
          <a class="row" href="https://www.uscbtg.org/" target="_blank" rel="noopener" aria-label="Business Technology Group (USC)">
            <span class="left">
              <img class="logo" src="images/BTG.JPG" alt="">
              <span class="meta"><span class="co">Business Technology Group (USC)</span><span class="role">VP of Projects</span></span>
            </span>
            <span class="right">2024–Present</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.ey.com/en_us/about-us/corporate-responsibility/mentoring-of-the-future-workforce-strengthens-communities-and-careers" target="_blank" rel="noopener" aria-label="EY CMAP">
            <span class="left">
              <img class="logo" src="images/EY.JPG" alt="">
              <span class="meta"><span class="co">EY CMAP</span><span class="role">Education Strategy Consultant</span></span>
            </span>
            <span class="right">2023–Present</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://uscfgsa.carrd.co/" target="_blank" rel="noopener" aria-label="USC First-Generation Student Center">
            <span class="left">
              <img class="logo" src="images/FGSA.JPG" alt="">
              <span class="meta"><span class="co">USC First-Generation Student Center</span><span class="role">Program Manager</span></span>
            </span>
            <span class="right">2023–2025</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.usclbsa.com/" target="_blank" rel="noopener" aria-label="Latino Business Student Association">
            <span class="left">
              <img class="logo" src="images/LBSA.JPG" alt="">
              <span class="meta"><span class="co">Latino Business Student Association</span><span class="role">Member</span></span>
            </span>
            <span class="right">2023–2025</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://www.uscisa.org/" target="_blank" rel="noopener" aria-label="International Student Assembly">
            <span class="left">
              <img class="logo" src="images/ISA.JPG" alt="">
              <span class="meta"><span class="co">International Student Assembly</span><span class="role">Advocacy &amp; Program Manager Intern</span></span>
            </span>
            <span class="right">2023–2024</span>
          </a>
        </li>
        <li>
          <a class="row" href="https://partnershipla.org/who-we-are/" target="_blank" rel="noopener" aria-label="The LA Partnership">
            <span class="left">
              <img class="logo" src="images/Partnership.JPG" alt="">
              <span class="meta"><span class="co">The LA Partnership</span><span class="role">Policy Advisory Board Member</span></span>
            </span>
            <span class="right">2021–2022</span>
          </a>
        </li>
      </ul>
    </section>

    <!-- ===================== PROJECTS / ARTIFACTS ===================== -->
    <section class="wide projects" id="projects">
      <div class="kicker">Projects &amp; Artifacts</div>
      <div class="panels">

        <!-- CRM -->
        <article class="panel" id="crm-automation">
          <div class="panel-header">
            <div>CRM Automation — Email Outreach Platform</div>
            <div class="sub">Python • Google Sheets API • Gmail API</div>
          </div>
          <div class="panel-grid">
            <div class="media" data-title="CRM demo" tabindex="0" aria-label="Open CRM demo">
              <div class="pill" data-role="indicator">Demo</div>
              <div class="viewport">
                <video controls playsinline style="width:100%;height:100%;border-radius:0;">
                  <source src="images/CRM_DEMO_small.mp4" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
            </div>
            <div class="text">
              <h3>CRM Automation — Email Outreach Platform</h3>
              <p>
                I built a CRM that connects Google Sheets and Gmail through Python so outreach runs itself. It pulls live rows from Sheets, writes the copy with merge fields, batches sends, and tracks status. With this in place we reached <b>15,000+ contacts</b>, responses lifted about <b>15%</b>, and outreach speed went roughly <b>3×</b> across three committees. The big win was making it reusable: new campaigns are just a new sheet and a template. Lots of API work, JSON wrangling, and testing — and the numbers moved, which is the point.
              </p>
            </div>
          </div>
        </article>

        <!-- Quokka -->
        <article class="panel" id="quokka">
          <div class="panel-header" style="background:
            radial-gradient(1200px 380px at 10% -40%, rgba(255,255,255,.14) 0%, transparent 60%),
            linear-gradient(120deg, var(--accent-2) 0%, #f59e0b 55%, #fbbf24 100%);">
            <div>Quokka Brew — Can Design Research &amp; Iterations</div>
            <div class="sub">Research • Testing • Visual System</div>
          </div>
          <div class="panel-grid">
            <div class="media deck"
                 data-type="pdf-single"
                 data-title="Quokka Brew — Design Research Deck"
                 data-src="Projects/Quokka%20Brew.pdf"
                 tabindex="0" aria-label="Open Quokka deck">
              <div class="pill" data-role="indicator">Loading…</div>
              <button class="ctrl prev" aria-label="Previous (Left Arrow)" data-act="prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="ctrl next" aria-label="Next (Right Arrow)" data-act="next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <div class="viewport"><canvas class="pdf-canvas"></canvas></div>
            </div>
            <div class="text">
              <h3>Quokka Brew — Can Design Research &amp; Iterations</h3>
              <p>
                We ran <b>60+ interviews</b>, then pressure-tested concept cans with the <b>10-ft / 5-ft / 1-ft</b> rule. The signal was clear: calmer neutrals read more “coffee,” the logo and key health info need to be obvious at 5 ft, and flavor cues should be simple at 1 ft. We benchmarked against three big players and turned that into <b>3 MVP layouts</b> plus testable variants. My role was synthesizing the insights and pushing the actual changes — bigger mark, cleaner info bands, and flavor hierarchy that you can catch in one glance. The deck is <b>67 pages</b> but the outcome is simple: easier shelf recognition and a system the team can keep iterating on.
              </p>
            </div>
          </div>
        </article>

        <!-- Clear Clinical (kept) -->
        <article class="panel" id="clear-clinical">
          <div class="panel-header">
            <div>Clear Clinical — Product Strategy &amp; UX</div>
            <div class="sub">Interviews • Competitive Scan • Roadmap</div>
          </div>
          <div class="panel-grid">
            <div class="media deck"
                 data-type="pdf-merged"
                 data-title="Clear Clinical — Mid + Final Presentations"
                 data-srcs="Projects/MID%20SEMSESTER%20DELIVERABLE%20CLEAR%20CLINICAL.pdf|Projects/FINAL%20PRESENTATION%20CLEAR%20CLINICAL%20.pdf"
                 tabindex="0" aria-label="Open Clear Clinical merged deck">
              <div class="pill" data-role="indicator">Loading…</div>
              <button class="ctrl prev" aria-label="Previous (Left Arrow)" data-act="prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="ctrl next" aria-label="Next (Right Arrow)" data-act="next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <div class="viewport"><canvas class="pdf-canvas"></canvas></div>
            </div>
            <div class="text">
              <h3>Clear Clinical — Product Strategy &amp; UX</h3>
              <p>Semester project where I pulled interviews, a competitive scan, and a staged roadmap into one story. The focus was speed to adoption — ship the workflows clinicians hit every day first, then layer the advanced stuff so it earns its keep.</p>
            </div>
          </div>
        </article>

        <!-- EY Workshop (kept) -->
        <article class="panel" id="ey-workshop">
          <div class="panel-header" style="background:
            radial-gradient(1200px 380px at 10% -40%, rgba(255,255,255,.14) 0%, transparent 60%),
            linear-gradient(120deg, #16a34a 0%, #22c55e 60%, #4ade80 100%);">
            <div>EY Workshop — Design Thinking</div>
            <div class="sub">Hands-on session • Prototyping</div>
          </div>
          <div class="panel-grid">
            <div class="media gallery"
                 data-title="EY Workshop — Design Thinking for Low-Income Students"
                 data-images="Projects/EY1.JPG|Projects/EY1.jpg,Projects/EY2.JPG|Projects/EY2.jpg,Projects/EY3.JPG|Projects/EY3.jpg,Projects/EY4.JPG|Projects/EY4.jpg"
                 tabindex="0" aria-label="Open EY workshop gallery">
              <div class="pill" data-role="indicator">1 / 4</div>
              <button class="ctrl prev" aria-label="Previous (Left Arrow)" data-act="prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="ctrl next" aria-label="Next (Right Arrow)" data-act="next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <div class="viewport"><img class="gallery-img" alt="EY workshop"></div>
            </div>
            <div class="text">
              <h3>EY Workshop — Design Thinking</h3>
              <p>I put together a fast, simple workshop for high school students — problem framing, quick sketches, test and learn. Kept it real and hands-on so they could take it home and run with it.</p>
            </div>
          </div>
        </article>

        <!-- Advocacy Day (kept) -->
        <article class="panel" id="advocacy-day">
          <div class="panel-header" style="background:
            radial-gradient(1200px 380px at 10% -40%, rgba(255,255,255,.14) 0%, transparent 60%),
            linear-gradient(120deg, #7c3aed 0%, #8b5cf6 60%, #a78bfa 100%);">
            <div>Policy Advocacy Day — Sacramento</div>
            <div class="sub">Student voices • Legislative meetings</div>
          </div>
          <div class="panel-grid">
            <div class="media gallery"
                 data-title="Policy Advocacy Day — Sacramento"
                 data-images="Projects/Partnership_Advocacy_Day1.JPG|Projects/Partnership_Advocacy_Day1.jpg,Projects/Partnership_Advocacy_Day2.JPG|Projects/Partnership_Advocacy_Day2.jpg"
                 tabindex="0" aria-label="Open Advocacy Day gallery">
              <div class="pill" data-role="indicator">1 / 2</div>
              <button class="ctrl prev" aria-label="Previous (Left Arrow)" data-act="prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="ctrl next" aria-label="Next (Right Arrow)" data-act="next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <div class="viewport"><img class="gallery-img" alt="Policy advocacy"></div>
            </div>
            <div class="text">
              <h3>Policy Advocacy Day — Sacramento</h3>
              <p>Met with legislators to share student stories and push for youth programs. I prepped the team, aligned the asks, and made sure voices in our community got in the room.</p>
            </div>
          </div>
        </article>

        <!-- Magazine (kept) -->
        <article class="panel" id="magazine">
          <div class="panel-header" style="background:
            radial-gradient(1200px 380px at 10% -40%, rgba(255,255,255,.14) 0%, transparent 60%),
            linear-gradient(120deg, #111827 0%, #374151 60%, #6b7280 100%);">
            <div>Magazine Feature</div>
            <div class="sub">Campus story • Community work</div>
          </div>
          <div class="panel-grid">
            <div class="media gallery"
                 data-title="Magazine Feature"
                 data-images="Projects/Magazine1.JPG|Projects/Magazine1.jpg,Projects/Magazine2.JPG|Projects/Magazine2.jpg,Projects/Magazine3.JPG|Projects/Magazine3.jpg"
                 tabindex="0" aria-label="Open magazine gallery">
              <div class="pill" data-role="indicator">1 / 3</div>
              <button class="ctrl prev" aria-label="Previous (Left Arrow)" data-act="prev">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M15 18l-6-6 6-6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <button class="ctrl next" aria-label="Next (Right Arrow)" data-act="next">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="#111827" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
              </button>
              <div class="viewport"><img class="gallery-img" alt="Magazine page"></div>
            </div>
            <div class="text">
              <h3>Magazine Feature</h3>
              <p>A campus write-up on first-gen work, BTG projects, and why I like building with community partners. Nice to see the impact show up outside of a resume line.</p>
            </div>
          </div>
        </article>

      </div>
    </section>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-card" role="dialog" aria-modal="true">
      <button class="lb-close" id="lbClose" aria-label="Close">✕</button>
      <div class="lb-left">
        <div class="lb-stage" id="stage">
          <button class="navbtn left" id="lbPrev" aria-label="Previous">‹</button>
          <canvas id="lbCanvas"></canvas>
          <img id="lbImg" alt="">
          <button class="navbtn right" id="lbNext" aria-label="Next">›</button>
        </div>
        <div class="thumbs" id="thumbs"></div>
      </div>
      <div class="lb-right">
        <div class="lb-title" id="lbTitle">Viewer</div>
        <div class="lb-sub" id="lbSub">—</div>
        <div class="lb-notes" id="lbNotes">Use ← → to navigate. Esc to close.</div>
      </div>
    </div>
  </div>

  <footer>
    <div class="wide">© <span id="y"></span> Jan Arroyo</div>
  </footer>

  <!-- pdf.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

    function viewportBounds(el){ const vp = el.querySelector('.viewport') || el; return { w: vp.clientWidth, h: vp.clientHeight }; }
    function setIndicator(el, txt){ el.textContent = txt; }

    function fitPdfToCanvas(pdf, pageNum, canvas, maxW, maxH){
      return pdf.getPage(pageNum).then(page=>{
        const v1 = page.getViewport({scale:1});
        let scale = Math.min(maxW/v1.width, maxH/v1.height);
        const vp = page.getViewport({scale});
        const dpr = window.devicePixelRatio || 1;
        canvas.width = Math.floor(vp.width * dpr);
        canvas.height = Math.floor(vp.height * dpr);
        canvas.style.width = Math.floor(vp.width) + 'px';
        canvas.style.height = Math.floor(vp.height) + 'px';
        const ctx = canvas.getContext('2d', {alpha:false});
        const transform = dpr !== 1 ? [dpr,0,0,dpr,0,0] : null;
        return page.render({canvasContext:ctx, viewport:vp, transform}).promise;
      });
    }

    function pick(paths, cb){
      const list=(paths||"").split('|').map(s=>s.trim()).filter(Boolean);
      if(!list.length){ cb(""); return; }
      let i=0, img=new Image();
      (function tryNext(){
        if(i>=list.length){ cb(list[0]); return; }
        img=new Image();
        img.onload=()=>cb(list[i]);
        img.onerror=()=>{ i++; tryNext(); };
        img.src=list[i];
      })();
    }
    function preloadImages(paths){
      return new Promise(resolve=>{
        const good = []; let left = paths.length;
        if(!left) return resolve(good);
        paths.forEach(p=>{
          pick(p, ok=>{
            if(ok) good.push(ok);
            if(--left===0) resolve(good);
          });
        });
      });
    }

    function wirePdfSingle(deck){
      const file = deck.dataset.src;
      const canvas = deck.querySelector('.pdf-canvas');
      const ind = deck.querySelector('[data-role="indicator"]');
      const prev = deck.querySelector('[data-act="prev"]');
      const next = deck.querySelector('[data-act="next"]');
      let pdf=null, page=1, total=1, rendering=false, hover=false;

      function update(){ setIndicator(ind, 'Page '+page+' / '+total); }
      function render(){
        if(!pdf || rendering) return; rendering=true;
        deck.classList.remove('media-ready');
        const {w,h} = viewportBounds(deck);
        fitPdfToCanvas(pdf,page,canvas,w,h).finally(()=>{
          rendering=false; update();
          requestAnimationFrame(()=>deck.classList.add('media-ready'));
        });
      }
      function go(d){ page=Math.min(total,Math.max(1,page+d)); render(); }

      deck.addEventListener('mouseenter',()=>hover=true);
      deck.addEventListener('mouseleave',()=>hover=false);
      deck.addEventListener('keydown',e=>{ if(e.key==='ArrowRight'){e.preventDefault();go(1)} if(e.key==='ArrowLeft'){e.preventDefault();go(-1)} });
      document.addEventListener('keydown',e=>{ if(!hover) return; if(e.key==='ArrowRight'){e.preventDefault();go(1)} if(e.key==='ArrowLeft'){e.preventDefault();go(-1)} });
      prev.addEventListener('click',e=>{ e.stopPropagation(); go(-1); });
      next.addEventListener('click',e=>{ e.stopPropagation(); go(1); });
      deck.addEventListener('click',()=> openLBPdf(deck.dataset.title,file,page,total));

      window.addEventListener('resize',render);
      pdfjsLib.getDocument(file).promise.then(p=>{ pdf=p; total=p.numPages; render(); });
    }

    function wirePdfMerged(deck){
      const files = deck.dataset.srcs.split('|').map(s=>s.trim());
      const canvas = deck.querySelector('.pdf-canvas');
      const ind = deck.querySelector('[data-role="indicator"]');
      const prev = deck.querySelector('[data-act="prev"]');
      const next = deck.querySelector('[data-act="next"]');
      let pdfs=[], pagesPer=[], total=0, curDoc=0, curPage=1, hover=false, rendering=false;

      function absIndex(){ let idx=0; for(let i=0;i<curDoc;i++) idx+=pagesPer[i]; return idx+curPage; }
      function update(){ setIndicator(ind, 'Page '+absIndex()+' / '+total); }
      function render(){
        if(!pdfs.length || rendering) return; rendering=true;
        deck.classList.remove('media-ready');
        const {w,h} = viewportBounds(deck);
        const pdf = pdfs[curDoc];
        fitPdfToCanvas(pdf,curPage,canvas,w,h).finally(()=>{
          rendering=false; update();
          requestAnimationFrame(()=>deck.classList.add('media-ready'));
        });
      }
      function step(d){
        let a = Math.min(total, Math.max(1, absIndex()+d));
        let left=a, doc=0; while(left>pagesPer[doc]){ left-=pagesPer[doc]; doc++; }
        curDoc=doc; curPage=left; render();
      }

      deck.addEventListener('mouseenter',()=>hover=true);
      deck.addEventListener('mouseleave',()=>hover=false);
      deck.addEventListener('keydown',e=>{ if(e.key==='ArrowRight'){e.preventDefault();step(1)} if(e.key==='ArrowLeft'){e.preventDefault();step(-1)} });
      document.addEventListener('keydown',e=>{ if(!hover) return; if(e.key==='ArrowRight'){e.preventDefault();step(1)} if(e.key==='ArrowLeft'){e.preventDefault();step(-1)} });
      prev.addEventListener('click',e=>{ e.stopPropagation(); step(-1); });
      next.addEventListener('click',e=>{ e.stopPropagation(); step(1); });
      deck.addEventListener('click',()=> openLBPdfMerged(deck.dataset.title, files, absIndex(), total, pagesPer));

      window.addEventListener('resize',render);
      Promise.all(files.map(f=>pdfjsLib.getDocument(f).promise)).then(arr=>{
        pdfs = arr; pagesPer = arr.map(p=>p.numPages); total = pagesPer.reduce((a,b)=>a+b,0);
        render();
      });
    }

    function wireGallery(gal){
      const raw = gal.dataset.images.split(',').map(s=>s.trim());
      const imgEl = gal.querySelector('.gallery-img');
      const ind = gal.querySelector('[data-role="indicator"]');
      const prev = gal.querySelector('[data-act="prev"]');
      const next = gal.querySelector('[data-act="next"]');
      let imgs = [], i=0, hover=false;

      preloadImages(raw).then(valid=>{
        imgs = valid;
        if(!imgs.length){ ind.textContent = 'No images'; prev.disabled = next.disabled = true; return; }
        set(true);
      });

      function set(initial=false){
        gal.classList.remove('media-ready');
        imgEl.onload = ()=>{ requestAnimationFrame(()=>gal.classList.add('media-ready')); };
        imgEl.src = imgs[i];
        ind.textContent = (i+1)+' / '+imgs.length;
        prev.disabled=(i===0); next.disabled=(i===imgs.length-1);
        if(initial) requestAnimationFrame(()=>gal.classList.add('media-ready'));
      }
      function go(d){ i=Math.min(imgs.length-1, Math.max(0, i+d)); set(); }

      gal.addEventListener('mouseenter',()=>hover=true);
      gal.addEventListener('mouseleave',()=>hover=false);
      gal.addEventListener('keydown',e=>{ if(e.key==='ArrowRight'){e.preventDefault();go(1)} if(e.key==='ArrowLeft'){e.preventDefault();go(-1)} });
      document.addEventListener('keydown',e=>{ if(!hover) return; if(e.key==='ArrowRight'){e.preventDefault();go(1)} if(e.key==='ArrowLeft'){e.preventDefault();go(-1)} });

      prev.addEventListener('click',e=>{ e.stopPropagation(); go(-1); });
      next.addEventListener('click',e=>{ e.stopPropagation(); go(1); });

      gal.addEventListener('click',()=> openLBImages(gal.dataset.title, imgs, i));
    }

    /* ---------- Lightbox ---------- */
    const LB = document.getElementById('lightbox');
    const LB_CLOSE = document.getElementById('lbClose');
    const LB_TITLE = document.getElementById('lbTitle');
    const LB_SUB = document.getElementById('lbSub');
    const LB_NOTES = document.getElementById('lbNotes');
    const LB_PREV = document.getElementById('lbPrev');
    const LB_NEXT = document.getElementById('lbNext');
    const LB_CANVAS = document.getElementById('lbCanvas');
    const LB_IMG = document.getElementById('lbImg');
    const LB_THUMBS = document.getElementById('thumbs');
    const LB_STAGE = document.getElementById('stage');

    let LB_MODE=null; let LB_STATE=null;

    function lbOpen(){ LB.classList.add('open'); LB.setAttribute('aria-hidden','false'); }
    function lbClose(){ LB.classList.remove('open'); LB.setAttribute('aria-hidden','true'); LB_IMG.src=''; LB_IMG.classList.remove('show'); LB_CANVAS.classList.remove('show'); LB_THUMBS.innerHTML=''; }
    document.getElementById('lbClose').addEventListener('click',lbClose);
    LB.addEventListener('click',e=>{ if(e.target===LB) lbClose(); });
    document.addEventListener('keydown',e=>{
      if(!LB.classList.contains('open')) return;
      if(e.key==='Escape') lbClose();
      if(e.key==='ArrowLeft') lbGo(-1);
      if(e.key==='ArrowRight') lbGo(1);
    });

    function openLBPdf(title, file, page, total){
      LB_MODE='pdf-single'; LB_STATE={file,page,total,pdf:null};
      LB_TITLE.textContent = title || 'Deck';
      LB_SUB.textContent = 'PDF deck';
      LB_NOTES.textContent = 'Use ← → to navigate. Esc to close.';
      LB_IMG.style.display='none'; LB_CANVAS.style.display='block';
      lbOpen();
      pdfjsLib.getDocument(file).promise.then(p=>{LB_STATE.pdf=p; lbRenderPdf();});
    }
    function openLBPdfMerged(title, files, absIndex, total, pagesPer){
      LB_MODE='pdf-merged'; LB_STATE={files,absIndex,total,pdfs:null,pagesPer};
      LB_TITLE.textContent = title || 'Deck';
      LB_SUB.textContent = 'Merged PDF';
      LB_NOTES.textContent = 'Use ← → to navigate. Esc to close.';
      LB_IMG.style.display='none'; LB_CANVAS.style.display='block';
      lbOpen();
      Promise.all(files.map(f=>pdfjsLib.getDocument(f).promise)).then(ps=>{LB_STATE.pdfs=ps; lbRenderPdfMerged();});
    }
    function openLBImages(title, imgs, idx){
      LB_MODE='images'; LB_STATE={imgs,idx};
      LB_TITLE.textContent = title || 'Gallery';
      LB_SUB.textContent = 'Images';
      LB_IMG.style.display='block'; LB_CANVAS.style.display='none';
      lbOpen(); lbRenderImages(); renderThumbs();
    }

    function lbBounds(){ return { w: LB_STAGE.clientWidth-20, h: LB_STAGE.clientHeight-20 }; }

    function lbRenderPdf(){
      const {w,h} = lbBounds();
      fitPdfToCanvas(LB_STATE.pdf, LB_STATE.page, LB_CANVAS, w, h).then(()=>{
        LB_CANVAS.classList.add('show'); LB_IMG.classList.remove('show');
        LB_PREV.disabled=(LB_STATE.page<=1); LB_NEXT.disabled=(LB_STATE.page>=LB_STATE.total);
      });
    }
    function lbRenderPdfMerged(){
      function convert(abs){ let left=abs, d=0; while(left>LB_STATE.pagesPer[d]){ left-=LB_STATE.pagesPer[d]; d++; } return {doc:d, page:left}; }
      const {w,h} = lbBounds(); const pos=convert(LB_STATE.absIndex);
      fitPdfToCanvas(LB_STATE.pdfs[pos.doc], pos.page, LB_CANVAS, w, h).then(()=>{
        LB_CANVAS.classList.add('show'); LB_IMG.classList.remove('show');
        LB_PREV.disabled=(LB_STATE.absIndex<=1); LB_NEXT.disabled=(LB_STATE.absIndex>=LB_STATE.total);
      });
    }
    function lbRenderImages(){
      LB_IMG.classList.remove('show');
      LB_IMG.onload=()=>LB_IMG.classList.add('show');
      LB_IMG.src = LB_STATE.imgs[LB_STATE.idx];
      LB_PREV.disabled=(LB_STATE.idx===0); LB_NEXT.disabled=(LB_STATE.idx===LB_STATE.imgs.length-1);
    }
    function renderThumbs(){
      LB_THUMBS.innerHTML='';
      LB_STATE.imgs.forEach((src,i)=>{
        const im=new Image(); im.src=src; if(i===LB_STATE.idx) im.classList.add('active');
        im.addEventListener('click',()=>{ LB_STATE.idx=i; lbRenderImages(); renderThumbs(); });
        LB_THUMBS.appendChild(im);
      });
      LB_THUMBS.style.display = (LB_MODE==='images') ? 'flex' : 'none';
    }
    function lbGo(d){
      if(LB_MODE==='pdf-single'){ LB_STATE.page=Math.min(LB_STATE.total,Math.max(1,LB_STATE.page+d)); lbRenderPdf(); }
      else if(LB_MODE==='pdf-merged'){ LB_STATE.absIndex=Math.min(LB_STATE.total,Math.max(1,LB_STATE.absIndex+d)); lbRenderPdfMerged(); }
      else if(LB_MODE==='images'){ LB_STATE.idx=Math.min(LB_STATE.imgs.length-1,Math.max(0,LB_STATE.idx+d)); lbRenderImages(); renderThumbs(); }
    }
    document.getElementById('lbPrev').addEventListener('click',()=>lbGo(-1));
    document.getElementById('lbNext').addEventListener('click',()=>lbGo(1));

    /* Wire viewers + reveal on scroll */
    document.querySelectorAll('.media.deck[data-type="pdf-single"]').forEach(wirePdfSingle);
    document.querySelectorAll('.media.deck[data-type="pdf-merged"]').forEach(wirePdfMerged);
    document.querySelectorAll('.media.gallery').forEach(wireGallery);

    const io = new IntersectionObserver((ents)=>{
      ents.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('revealed'); io.unobserve(e.target); } });
    }, {threshold:.25, rootMargin:"0px 0px -10%"});
    document.querySelectorAll('.panel').forEach(p=>io.observe(p));
  </script>
</body>
</html>
